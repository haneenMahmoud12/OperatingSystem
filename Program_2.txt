semWait userInput
assign a input
assign b input
semSignal userInput
semWait file
writeFile a.txt b
semSignal file